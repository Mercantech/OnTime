<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OnTime â€“ Piratbridge</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/pirat.css">
</head>
<body class="pirat-page">
  <header class="app-header">
    <h1><a href="/app" class="header-home">OnTime</a></h1>
    <a href="/spil" class="admin-link">Spil</a>
    <a href="/spotify" class="admin-link">SangÃ¸nsker</a>
    <a href="/jokes" class="admin-link">Dagens joke</a>
    <span id="pirat-user-name" class="user-info"></span>
    <button id="pirat-logout" class="btn-logout">Log ud</button>
  </header>

  <main class="pirat-main">
    <h1 class="pirat-title">ğŸ´â€â˜ ï¸ Piratbridge</h1>
    <p class="pirat-subtitle">2â€“4 spillere Â· Spar er trumf Â· Tip stik med tÃ¦ndstikker</p>

    <!-- Lobby: Opret eller tilslut -->
    <section id="pirat-lobby" class="pirat-lobby">
      <h2 class="pirat-section-title">Spil med andre (2â€“4 spillere)</h2>
      <div id="pirat-lobby-actions" class="pirat-lobby-actions">
        <button type="button" id="pirat-create-btn" class="pirat-btn pirat-btn-primary">Opret lobby</button>
        <div class="pirat-join-row">
          <input type="text" id="pirat-join-code" class="pirat-code-input" placeholder="Spilkode (6 tegn)" maxlength="6" autocomplete="off">
          <button type="button" id="pirat-join-btn" class="pirat-btn pirat-btn-primary">Tilslut</button>
        </div>
      </div>
      <div id="pirat-waiting" class="pirat-waiting" hidden>
        <p class="pirat-waiting-msg">Venter pÃ¥ spillereâ€¦ Del denne kode:</p>
        <p class="pirat-game-code" id="pirat-game-code"></p>
        <p class="pirat-game-link"><a id="pirat-game-link" href="#">Ã…bn link til spillet</a></p>
        <ul class="pirat-player-wait-list" id="pirat-player-wait-list"></ul>
        <button type="button" id="pirat-start-btn" class="pirat-btn pirat-btn-primary" hidden>Start spil</button>
      </div>
      <p id="pirat-lobby-error" class="pirat-error" hidden></p>
    </section>

    <!-- Spil -->
    <section id="pirat-game" class="pirat-game" hidden>
      <div class="pirat-game-top">
        <p class="pirat-turn-status" id="pirat-turn-status">Det er <strong id="pirat-turn-name"></strong>s tur</p>
        <p class="pirat-round-info" id="pirat-round-info">Runde 1 Â· 1 kort hver</p>
        <p class="pirat-scores" id="pirat-scores"></p>
      </div>

      <!-- Fase: bud (tÃ¦ndstikker) -->
      <div id="pirat-bid-phase" class="pirat-phase" hidden>
        <p class="pirat-phase-msg">Se dine kort â€“ tip derefter antal stik med tÃ¦ndstikker</p>
        <div class="pirat-hand-wrap">
          <p class="pirat-hand-label">Din hÃ¥nd</p>
          <div class="pirat-hand" id="pirat-bid-hand"></div>
        </div>
        <div class="pirat-bid-choices" id="pirat-bid-choices"></div>
        <button type="button" id="pirat-bid-confirm" class="pirat-btn pirat-btn-primary">BekrÃ¦ft bud</button>
      </div>

      <!-- Fase: vis bud -->
      <div id="pirat-bid-reveal" class="pirat-phase" hidden>
        <p class="pirat-phase-msg">Bud afslÃ¸ret</p>
        <div class="pirat-bid-reveal-list" id="pirat-bid-reveal-list"></div>
        <button type="button" id="pirat-bid-reveal-ok" class="pirat-btn pirat-btn-primary">Start stik</button>
      </div>

      <!-- Fase: spil stik -->
      <div id="pirat-play-phase" class="pirat-phase" hidden>
        <p class="pirat-whose-lead" id="pirat-whose-lead"></p>
        <div class="pirat-trick-center" id="pirat-trick-center"></div>
        <div class="pirat-hand-wrap">
          <p class="pirat-hand-label">Din hÃ¥nd (spiller <span id="pirat-current-hand-player"></span>)</p>
          <div class="pirat-hand" id="pirat-hand"></div>
        </div>
      </div>

      <!-- Fase: stik vundet (kort pause) -->
      <div id="pirat-trick-done" class="pirat-phase" hidden>
        <p class="pirat-trick-winner-msg" id="pirat-trick-winner-msg"></p>
        <div class="pirat-trick-done-cards" id="pirat-trick-done-cards"></div>
        <p class="pirat-trick-done-hint" id="pirat-trick-done-hint">NÃ¦ste stik om lidtâ€¦</p>
      </div>

      <!-- Runde afsluttet -->
      <div id="pirat-round-done" class="pirat-phase" hidden>
        <p class="pirat-phase-msg">Runde slut â€“ point</p>
        <div class="pirat-round-scores" id="pirat-round-scores"></div>
        <button type="button" id="pirat-next-round-btn" class="pirat-btn pirat-btn-primary">NÃ¦ste runde</button>
      </div>

      <!-- Spil slut -->
      <div id="pirat-game-over" class="pirat-phase" hidden>
        <p class="pirat-phase-msg">Spil slut â€“ vinder</p>
        <p class="pirat-winner" id="pirat-winner"></p>
        <button type="button" id="pirat-play-again-btn" class="pirat-btn pirat-btn-primary">Spil igen</button>
      </div>
    </section>
  </main>

  <script src="https://cdn.socket.io/4.8.1/socket.io.min.js"></script>
  <script src="/js/pirat.js"></script>
  <script src="/js/debug-issue.js"></script>
</body>
</html>
